> 2、MySQL索引使用

>1）、主键、索引、唯一索引和联合索引区别

      索引是数据列和主键的关联，使用索引查询时，会先从该关联查找出主键，再通过主键来查找到数据。
      
      对性能影响：
        1）减少需要查找的数据量，提高查询速度
        2）帮助MySQL服务器避免创建临时表和排序
        3）随机IO变成顺序IO
        4）提高读的性能，但同时也会降低写的性能，因为要额外创建索引
      
      索引类型：
         普通索引：没有限制
         唯一索引：值有唯一性
         主键索引：不能为NULL
      
      主键索引和唯一索引区别：
        1）主键索引一定是唯一索引，唯一索引不是主键索引
        2）一张表只能有一个主键索引，但可以有多个唯一索引
        3）主键与外键可以构成参照完整形约束，而唯一索引不能
        
      组合索引覆盖多个列：
         
         
>2）、索引创建原则
     
      1）、索引适合加在where子句中的列或连接子句中的列
           where 
           on a.name = b.name
           
      2）、索引列基数越大，效果越好
      3）、对字符串进行索引，应该制定一个前缀长度，可以节省大量索引空间
         alter table x_test add index(x_name(7))
         
      4）、根据情况创建复合索引，提高效率
      
      5）、避免创建过多的索引，索引会占用额外的存储空间，会降低写入效率
      
      6）、主键尽可能使用短的数据类型，减少磁盘占用
  
>3）、使用注意事项

     
      1）复合索引遵循前缀原则(连续)
         index(a,b,c)
         生效情况：
            where a=1 and b=2 and c=3
            where a=1 and b=2
            where a=1
            
         不生效：
            where b=2 and c=3
            where c=3
            where a=1 and c=3
            
      2）like查询不能使用%开头，索引会失效
        
      3）column is null会使用到索引
        
      4）MySQL查询优化器估计使用索引会比全表扫描慢，会放弃使用索引
        
      5）or前面的列有索引，后面的没有，索引不会用到
             index(a)
             where a=1 or b=2
      6）列类型时字符串，查询时一定要加引号，否则索引失效
        