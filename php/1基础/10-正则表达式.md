# PHP正则表达式

## 1、正则表达式
   
    作用:分割、查找、匹配、替换字符串
   
    分割符：3种常用分隔符
       正斜线/，hash符号#，按位取反符号~
    
    通用原子：6个
       \d:数字0-9
       \D:非数字
       \w:数字、字母和下划线
       \W:非数组、字母和下划线
       \s:空格
       \S:非空格
    
    元字符：14个
      . 匹配除换行符以外的所有字符
      * 匹配0到多次
      ? 匹配0次或一次
      ^ 匹配以其开头
      $ 匹配以其结尾
      + 1到多次 
      {n} n次
      {n,} n或n次以上
      {n,m} n<= 匹配次数 >=m
      [] 集合，匹配其中任意一个,[abc]
      () 后向引用或者当成一个整体,(\1),(ab)
      [^] 除了集合里面的字符,[^abc]
      |   或者，(ab)|(ac)
      [-] 范围，0-9,a-z
      
    模式修正符：10
      i: 不区分大小写
      m：将模式视为多行，使用^和$表示任何一行都可以以正则表达式开始或结束
      e：
      s：.元字符可以表示换行符
      U：取消贪婪模式
      x：表示模式中的空白忽略不计
      A：以模式字符串开头，相当于元字符^
      Z：以模式字符串结尾，相当于元字符$
      D：如果设定了此修正符，模式中的美元元字符仅匹配目标字符串的结尾
      u：进行中文匹配
      
## 2、后向引用

```php
<?php

$str='<b>abc</b>';
$pattern = '/<b>(.*)<\/b>/';
preg_replace($pattern,'\\1',$str);
```
## 3、贪婪匹配
  
     默认是贪婪匹配，取消贪婪匹配方法：
      （1）.*? 
      （2）U模式修正符：

## 4、正则表达式函数
  
     preg_match($pattern,$subject,&$match)
     preg_match_all($pattern,$subject,&$match)
     preg_split(string $pattern , string $subject)
     preg_replace($pattern,$replace,$subject):
    
    
## 5、中文匹配

   UTF-8汉字编码范围：
       `0x4e00-0x9fa5`
    
        需要使用u模式修正符，当成UTF-8来处理
  
```php
<?php
$str='这个';
$pattern='/[\x{4e00}-\x{9fa5}]+/u';
preg_match($pattern,$str,$match);
```
GB2312编码范围：`0xb0-0xf7` `0xa1-0xfe`
      
       需要使用chr将ASCII码转成字符
         
 ```php
 <?php
$str='这个';
$pattern='/['.chr(0xb0).'-'.chr(0xf7).']['.chr(0xa1).'-'.chr(0xfe).']/u';
preg_match($pattern,$str,$match);
 ```        
## 6、常见的正则表达式
  
     手机：
       /^1[3456789]\d{9}$/
     邮箱：
       /^[a-zA-Z0-9]+[\w.-]*@[a-zA-Z0-9]+\w(?:\.[a-zA-Z0-9]+\w*)+$/
     URL：
       
     IP：
       /^(?:(?:(?:\d)|(?:1\d{2})|(?:2[0-4]\d)|(?:25[0-5]))\.){3}(?:(?:\d)|(?:1\d{2})|(?:2[0-4]\d)|(?:25[0-5])\.)$/


      /^(((\d)|(1\d{2})|(2[0-4]\d)|(25[0-5]))\.){3}((\d)|(1\d{2})|(2[0-4]\d)|(25[0-5])\.)$/
      
      
      ?:作用：让元字符()里面匹配的字符串不被返回
      
      