# redis集群方案
> redis有3种集群模式，分别是redis主从模式，redis cluster以及redis sentinel。

## 1、redis主从模式
> redis主从模式是最简单的集群模式，通过修改配置文件中的`slaveof`配置来设置从节点。主节点可写，从节点只读。

     从节点里面的数据是跟主节点的数据一致
     
     主从切换：
         当主节点发生故障时，从节点应该自动切换成主节点
      
      部署模式：
         一主多从      

## 2、redis cluster
> redis cluster是最常用的集群模式，cp系统。是一个去中心化的多主集群模式。redis cluster通过数据分片,将数据分配在65535个slot，
每个主节点管理一定数量的slot，每个主节点可以有多个从节点。一般是3主3从或6主6从。

- 1）支持的功能

        
       A：数据自动分片
          集群中每个节点都会负责一定数量的slot，每个key会映射到一个具体的slot，
          通过这种方式就可能找到key具体保存在哪个节点上了。
       B：支持hash tag 
          通过hash tag功能可以将多个不同key映射到同一个slot上，这样就能够提供multi-key操作，hash tag的使用的方式是在key中包含“{}”，
          这样只有在“{...}”中字串被用于hash计算
       C：自动失效转移和手动失效转移
       D：减少硬件成本和运维成本
             
     

## 3、哨兵模式
   


